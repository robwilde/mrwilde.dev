<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <!-- Background -->
  <rect width="900" height="500" fill="#0f172a"/>
  
  <!-- Title -->
  <text x="450" y="35" font-family="system-ui, sans-serif" font-size="20" font-weight="bold" fill="#f8fafc" text-anchor="middle">Intentional Git History: Two-Stage Merge Strategy</text>
  
  <!-- Legend -->
  <rect x="30" y="55" width="12" height="12" rx="6" fill="#f59e0b"/>
  <text x="48" y="65" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">main (clean releases)</text>
  <rect x="180" y="55" width="12" height="12" rx="6" fill="#3b82f6"/>
  <text x="198" y="65" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">dev (detailed history)</text>
  <rect x="340" y="55" width="12" height="12" rx="6" fill="#22c55e"/>
  <text x="358" y="65" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">feature branches</text>
  <rect x="490" y="55" width="12" height="12" rx="6" fill="#a855f7"/>
  <text x="508" y="65" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">merge commits</text>
  <rect x="620" y="55" width="12" height="12" rx="6" fill="#ec4899"/>
  <text x="638" y="65" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">squash commits</text>
  
  <!-- MAIN BRANCH - top -->
  <text x="50" y="115" font-family="monospace" font-size="12" font-weight="bold" fill="#fbbf24">main</text>
  
  <!-- Main branch line -->
  <circle cx="100" cy="110" r="10" fill="#f59e0b" stroke="#fbbf24" stroke-width="2"/>
  <text x="100" y="95" font-family="monospace" font-size="9" fill="#64748b" text-anchor="middle">v0.0</text>
  <line x1="110" y1="110" x2="380" y2="110" stroke="#f59e0b" stroke-width="2" stroke-dasharray="8,4"/>
  
  <!-- Phase 1 squash on main -->
  <circle cx="400" cy="110" r="12" fill="#ec4899" stroke="#f472b6" stroke-width="2"/>
  <text x="400" y="114" font-family="system-ui, sans-serif" font-size="9" fill="#fff" text-anchor="middle">S</text>
  <text x="400" y="90" font-family="monospace" font-size="9" fill="#64748b" text-anchor="middle">Phase 1</text>
  
  <line x1="412" y1="110" x2="680" y2="110" stroke="#f59e0b" stroke-width="2" stroke-dasharray="8,4"/>
  
  <!-- Phase 2 squash on main -->
  <circle cx="700" cy="110" r="12" fill="#ec4899" stroke="#f472b6" stroke-width="2"/>
  <text x="700" y="114" font-family="system-ui, sans-serif" font-size="9" fill="#fff" text-anchor="middle">S</text>
  <text x="700" y="90" font-family="monospace" font-size="9" fill="#64748b" text-anchor="middle">Phase 2</text>
  
  <line x1="712" y1="110" x2="870" y2="110" stroke="#f59e0b" stroke-width="2"/>
  <circle cx="850" cy="110" r="6" fill="#f59e0b"/>
  
  <!-- Arrow showing squash from dev to main -->
  <path d="M 400 185 Q 400 150 400 125" stroke="#94a3b8" stroke-width="1.5" fill="none" stroke-dasharray="4,2"/>
  <polygon points="400,125 396,135 404,135" fill="#94a3b8"/>
  <text x="420" y="155" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">squash</text>
  
  <path d="M 700 185 Q 700 150 700 125" stroke="#94a3b8" stroke-width="1.5" fill="none" stroke-dasharray="4,2"/>
  <polygon points="700,125 696,135 704,135" fill="#94a3b8"/>
  <text x="720" y="155" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">squash</text>
  
  <!-- DEV BRANCH - middle -->
  <text x="50" y="205" font-family="monospace" font-size="12" font-weight="bold" fill="#60a5fa">dev</text>
  
  <!-- Dev branch base -->
  <circle cx="100" cy="200" r="10" fill="#3b82f6" stroke="#60a5fa" stroke-width="2"/>
  <line x1="110" y1="200" x2="138" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="150" cy="200" r="10" fill="#3b82f6" stroke="#60a5fa" stroke-width="2"/>
  
  <!-- Feature 1: T1.7 - Role Permissions -->
  <line x1="150" y1="200" x2="165" y2="250" stroke="#22c55e" stroke-width="2"/>
  <circle cx="175" cy="270" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <circle cx="205" cy="270" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <line x1="183" y1="270" x2="197" y2="270" stroke="#22c55e" stroke-width="2"/>
  <text x="190" y="295" font-family="monospace" font-size="8" fill="#4ade80" text-anchor="middle">t1.7-permissions</text>
  
  <!-- Merge 1 -->
  <line x1="160" y1="200" x2="235" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <line x1="205" y1="270" x2="240" y2="210" stroke="#22c55e" stroke-width="1.5"/>
  <circle cx="250" cy="200" r="10" fill="#a855f7" stroke="#c084fc" stroke-width="2"/>
  <text x="250" y="204" font-family="system-ui, sans-serif" font-size="8" fill="#fff" text-anchor="middle">M</text>
  
  <!-- Feature 2: T1.8 - Base API -->
  <line x1="250" y1="200" x2="265" y2="320" stroke="#22c55e" stroke-width="2"/>
  <circle cx="275" cy="340" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <circle cx="305" cy="340" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <circle cx="335" cy="340" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <line x1="283" y1="340" x2="297" y2="340" stroke="#22c55e" stroke-width="2"/>
  <line x1="313" y1="340" x2="327" y2="340" stroke="#22c55e" stroke-width="2"/>
  <text x="305" y="365" font-family="monospace" font-size="8" fill="#4ade80" text-anchor="middle">t1.8-base-api</text>
  
  <!-- Merge 2 -->
  <line x1="260" y1="200" x2="365" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <line x1="335" y1="340" x2="375" y2="210" stroke="#22c55e" stroke-width="1.5"/>
  <circle cx="380" cy="200" r="10" fill="#a855f7" stroke="#c084fc" stroke-width="2"/>
  <text x="380" y="204" font-family="system-ui, sans-serif" font-size="8" fill="#fff" text-anchor="middle">M</text>
  
  <!-- Feature 3: T1.9 - API Versioning -->
  <line x1="380" y1="200" x2="395" y2="270" stroke="#22c55e" stroke-width="2"/>
  <circle cx="405" cy="290" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <circle cx="435" cy="290" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <line x1="413" y1="290" x2="427" y2="290" stroke="#22c55e" stroke-width="2"/>
  <text x="420" y="315" font-family="monospace" font-size="8" fill="#4ade80" text-anchor="middle">t1.9-versioning</text>
  
  <!-- Merge 3 -->
  <line x1="390" y1="200" x2="475" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <line x1="435" y1="290" x2="480" y2="210" stroke="#22c55e" stroke-width="1.5"/>
  <circle cx="490" cy="200" r="10" fill="#a855f7" stroke="#c084fc" stroke-width="2"/>
  <text x="490" y="204" font-family="system-ui, sans-serif" font-size="8" fill="#fff" text-anchor="middle">M</text>
  
  <!-- Feature 4: T1.10 - Error Handling -->
  <line x1="490" y1="200" x2="505" y2="340" stroke="#22c55e" stroke-width="2"/>
  <circle cx="515" cy="360" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <circle cx="545" cy="360" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <circle cx="575" cy="360" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <circle cx="605" cy="360" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <line x1="523" y1="360" x2="537" y2="360" stroke="#22c55e" stroke-width="2"/>
  <line x1="553" y1="360" x2="567" y2="360" stroke="#22c55e" stroke-width="2"/>
  <line x1="583" y1="360" x2="597" y2="360" stroke="#22c55e" stroke-width="2"/>
  <text x="560" y="385" font-family="monospace" font-size="8" fill="#4ade80" text-anchor="middle">t1.10-error-handling</text>
  
  <!-- Merge 4 -->
  <line x1="500" y1="200" x2="625" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <line x1="605" y1="360" x2="635" y2="210" stroke="#22c55e" stroke-width="1.5"/>
  <circle cx="640" cy="200" r="10" fill="#a855f7" stroke="#c084fc" stroke-width="2"/>
  <text x="640" y="204" font-family="system-ui, sans-serif" font-size="8" fill="#fff" text-anchor="middle">M</text>
  
  <!-- Feature 5: T1.11 - Rate Limiting -->
  <line x1="640" y1="200" x2="655" y2="270" stroke="#22c55e" stroke-width="2"/>
  <circle cx="665" cy="290" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <circle cx="695" cy="290" r="8" fill="#22c55e" stroke="#4ade80" stroke-width="1.5"/>
  <line x1="673" y1="290" x2="687" y2="290" stroke="#22c55e" stroke-width="2"/>
  <text x="680" y="315" font-family="monospace" font-size="8" fill="#4ade80" text-anchor="middle">t1.11-rate-limiting</text>
  
  <!-- Merge 5 (end of Phase 1) -->
  <line x1="650" y1="200" x2="735" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <line x1="695" y1="290" x2="740" y2="210" stroke="#22c55e" stroke-width="1.5"/>
  <circle cx="750" cy="200" r="10" fill="#a855f7" stroke="#c084fc" stroke-width="2"/>
  <text x="750" y="204" font-family="system-ui, sans-serif" font-size="8" fill="#fff" text-anchor="middle">M</text>
  
  <!-- Continue dev -->
  <line x1="760" y1="200" x2="870" y2="200" stroke="#3b82f6" stroke-width="2"/>
  <circle cx="850" cy="200" r="6" fill="#3b82f6"/>
  
  <!-- Phase 1 bracket -->
  <line x1="150" y1="420" x2="150" y2="440" stroke="#64748b" stroke-width="1"/>
  <line x1="150" y1="440" x2="750" y2="440" stroke="#64748b" stroke-width="1"/>
  <line x1="750" y1="420" x2="750" y2="440" stroke="#64748b" stroke-width="1"/>
  <text x="450" y="460" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Phase 1: Foundation &amp; Core Infrastructure</text>
  
  <!-- Annotations -->
  <rect x="30" y="470" width="840" height="25" rx="4" fill="#1e293b"/>
  <text x="450" y="487" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">dev keeps detailed --no-ff merge history for debugging â€¢ main gets clean squashed commits per phase/release</text>
</svg>
